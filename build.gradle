plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building a CLI application.
    id 'application'

    // Apply the groovy plugin to also add support for Groovy (needed for Spock)
    id 'groovy'

    // Beautiful test output
    // https://github.com/radarsh/gradle-test-logger-plugin
    id 'com.adarshr.test-logger' version '2.1.1'

}

test {
    testlogger {
        theme 'mocha' // project level
        slowThreshold 5000
    }
}

repositories {
    jcenter()
}

dependencies {
    implementation 'org.codehaus.groovy:groovy-all:2.5.14'
    testImplementation 'org.spockframework:spock-core:1.3-groovy-2.5'

    // https://mvnrepository.com/artifact/junit/junit
    testImplementation 'junit:junit:4.13'
}

configurations {
    vendorTesting.extendsFrom testImplementation
}

application {
    // Define the main class for the application.
    mainClassName = 'snappy.dev.env.App'
}

task vendorTestJars(type: Copy) {
    into "vendor"
    from configurations.vendorTesting - configurations.runtimeClasspath
}
